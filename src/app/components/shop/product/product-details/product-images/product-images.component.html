<div class="container product-images-layout">
  <div class="row g-4">
    <!-- Image gallery LEFT (50%) -->
    <div class="col-12 col-lg-6 product-image-section">
      <div class="product-gallery">
        <div class="product-gallery__main-image">
          <ng-template #audioThumb>
            <ng-container *ngIf="audioType.includes(product?.product_thumbnail?.mime_type!); else imgThumb">
              <div class="audio-wrapper">
                <audio controls>
                  <source [src]="product.product_thumbnail ? product.product_thumbnail.original_url : ''"
                    [type]="product.product_thumbnail?.mime_type" />
                </audio>
              </div>
            </ng-container>
          </ng-template>

          <ng-template #imgThumb>
            <img
              [src]="product.product_thumbnail ? product.product_thumbnail.original_url : 'assets/images/product.png'"
              class="img-fluid" [alt]="product?.name" />
          </ng-template>

          <ng-container *ngIf="videType.includes(product?.product_thumbnail?.mime_type!); else audioThumb">
            <div class="video-badge">
              <i class="ri-play-fill"></i>
            </div>
            <video class="w-100" controls>
              <source [src]="product.product_thumbnail ? product.product_thumbnail.original_url : ''"
                [type]="product.product_thumbnail?.mime_type" />
            </video>
          </ng-container>
        </div>
      </div>
    </div>

    <!-- Product Details RIGHT (50%) -->
    <div class="col-12 col-lg-6 product-details-section">
      <div class="product-details">
        <h1 class="product-details__title">{{ product?.name }}</h1>

        <!-- Product Category -->
        <div class="product-details__category" *ngIf="product?.category?.name || product?.categories?.[0]?.name">
          <span class="category-badge">
            {{ product?.category?.name || product?.categories?.[0]?.name }}
          </span>
        </div>

        <div class="product-details__price" *ngIf="product">
          <span class="price-current">â‚¹{{ product.sale_price || product.price }}</span>
        </div>

        <div class="product-details__dispatch" *ngIf="product">
          <span>*DISPATCH IN 5-7 DAYS</span>
        </div>

        <!-- Product contain component (includes size selector, add to cart, etc) -->
        <app-product-contain [product]="product" [option]="option"></app-product-contain>

        <!-- Description Collapsible Section Only -->
        <div class="product-details__collapsible">
          <div class="collapsible-section" [ngClass]="{'active': isDescriptionOpen}">
            <div class="collapsible-section__header" (click)="toggleDescription()">
              <h3>Description</h3>
              <button class="toggle-btn" type="button">
                <i class="ri-add-line"></i>
              </button>
            </div>
            <div class="collapsible-section__content" [ngClass]="{'active': isDescriptionOpen}">
              <div [innerHTML]="product?.description"></div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>