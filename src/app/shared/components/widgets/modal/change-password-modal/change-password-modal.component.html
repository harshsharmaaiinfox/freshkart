<ng-template #passwordModal let-modal>
    <div class="change-password-modal">
        <div class="modal-header">
            <div class="header-content">
                <div class="header-icon">
                    <i class="ri-lock-password-line"></i>
                </div>
                <h3 class="modal-title">{{ 'Change Password' | translate }}</h3>
            </div>
            <button type="button" class="btn-close" [id]="'password_modal_close_btn'"
                (click)="modal.dismiss('Cross click')" aria-label="Close">
                <i class="ri-close-line"></i>
            </button>
        </div>
        <form [formGroup]="form" (ngSubmit)="submit()">
            <div class="modal-body">
                <div class="form-fields">
                    <div class="form-group">
                        <label class="form-label" for="cpass">
                            <i class="ri-shield-keyhole-line"></i>
                            {{ 'Current Password' | translate }}
                        </label>
                        <input class="form-control" id="cpass" type="password"
                            placeholder="{{ 'Enter Current Password' | translate }}" formControlName="current_password"
                            [class.is-invalid]="form?.controls?.['current_password']?.touched && form.controls['current_password']?.invalid" />
                        <div class="invalid-feedback"
                            *ngIf="form?.controls?.['current_password']?.touched && form.controls['current_password']?.errors?.['required']">
                            {{ 'Current Password is Required' | translate }}
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="npass">
                            <i class="ri-lock-line"></i>
                            {{ 'New Password' | translate }}
                        </label>
                        <input class="form-control" id="npass" type="password"
                            placeholder="{{ 'Enter New Password' | translate }}" formControlName="password"
                            [class.is-invalid]="form?.controls?.['password']?.touched && form.controls['password']?.invalid" />
                        <div class="invalid-feedback"
                            *ngIf="form?.controls?.['password']?.touched && form.controls['password']?.errors?.['required']">
                            {{ 'New Password is Required' | translate }}
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="cnpass">
                            <i class="ri-lock-star-line"></i>
                            {{ 'Confirm Password' | translate }}
                        </label>
                        <input class="form-control" id="cnpass" type="password"
                            placeholder="{{ 'Enter Confirm Password' | translate }}"
                            formControlName="password_confirmation"
                            [class.is-invalid]="(form?.controls?.['password_confirmation']?.touched && form.controls['password_confirmation']?.invalid) || passwordMatchError" />
                        <div class="invalid-feedback"
                            *ngIf="form?.controls?.['password_confirmation']?.touched && form.controls['password_confirmation']?.errors?.['required'] else error">
                            {{ 'Confirm Password is Required' | translate }}
                        </div>
                        <ng-template #error>
                            <div class="invalid-feedback" *ngIf="passwordMatchError">
                                {{ 'Confirm Password Does Not Matched' | translate }}
                            </div>
                        </ng-template>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-cancel" [id]="'cancel_password_btn'"
                    (click)="modal.dismiss('Cancel')">
                    {{ 'Cancel' | translate }}
                </button>
                <button type="submit" class="btn btn-submit" [id]="'submit_password_btn'" [disabled]="form.invalid">
                    {{ 'Submit' | translate }}
                </button>
            </div>
        </form>
    </div>
</ng-template>